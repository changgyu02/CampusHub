<login>
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Login</title>
      <link href="./bootstrap.min.css" rel="stylesheet">

    </head>
    <body>
    
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">CampusHub</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="login.html">Login</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="register.html">Register</a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
    
      <div class="container mt-3">
        <div class="mb-3">
          <input type="email" class="form-control" placeholder="Email" id="email">
        </div>
        <div class="mb-3">
          <input type="password" class="form-control" placeholder="Password" id="password">
        </div>
        <button type="submit" class="btn btn-primary" id="login">로그인</button>
        <button type="button" class="btn btn-secondary" id="register-button">회원가입</button>
      </div>
    
      <!-- Firebase SDKs (9.x 버전) -->
      <script type="module">
        // Import Firebase modules
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-auth.js";
    
        document.addEventListener('DOMContentLoaded', () => {
          // Firebase 설정 및 초기화
          const firebaseConfig = {
            apiKey: "AIzaSyBUO6mJQd3i8YLa-sCP0uFEG6ASgsq7CWM",
            authDomain: "campushub-77412.firebaseapp.com",
            projectId: "campushub-77412",
            storageBucket: "campushub-77412.appspot.com",
            messagingSenderId: "689464594659",
            appId: "1:689464594659:web:61505a6164255a8d5f75d6"
        };
    
          // Initialize Firebase
          const app = initializeApp(firebaseConfig);
          const auth = getAuth(app);
    
          // "로그인" 버튼 클릭 이벤트 처리
          document.getElementById('login').addEventListener('click', async () => {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
    
            try {
              // Firebase Authentication을 사용하여 로그인
              const userCredential = await signInWithEmailAndPassword(auth, email, password);
              // 로그인 성공 시 특정 페이지로 이동
              window.location.href = 'ch_main.html';  
            } catch (error) {
              console.error('Error during login: ', error);
              alert('로그인 중 오류가 발생했습니다. 이메일 또는 비밀번호를 확인해주세요.');
            }
          });
    
          // "회원가입" 버튼 클릭 시 회원가입 페이지로 이동
          document.getElementById('register-button').addEventListener('click', () => {
            window.location.href = 'register.html';
          });   
        });
      </script>
    
      <script src="./bootstrap.bundle.min.js"></script>
      <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    </body>
    </html>